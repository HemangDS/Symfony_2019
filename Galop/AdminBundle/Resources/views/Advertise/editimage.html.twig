{% extends sonata_block.templates.block_base %}

{% block block %}
 
	    {% block head %} 
		        <meta charsho et="UTF-8">
		        <title>{% block title %}Image Editor{% endblock %}</title>
		      
		        <style>
		            @import url(http://fonts.googleapis.com/css?family=Noto+Sans);
		            html, body {
		                height: 100%;
		                margin: 0;
		            }
		        </style>
		        
		        <link type="text/css" href="https://uicdn.toast.com/tui-color-picker/v2.2.0/tui-color-picker.css" rel="stylesheet">
		        <link type="text/css" href="{{ asset('bundles/galopadmin/dist/tui-image-editor.css') }}" rel="stylesheet">
	    {% endblock %}
	    	{% block body %}
	        	<div id="tui-image-editor-container"></div>
	    	{% endblock %}
	
    {% block javascripts %}
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.6.7/fabric.js"></script>
        <script type="text/javascript" src="https://uicdn.toast.com/tui.code-snippet/v1.5.0/tui-code-snippet.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.3/FileSaver.min.js"></script>
        <script type="text/javascript" src="https://uicdn.toast.com/tui-color-picker/v2.2.0/tui-color-picker.js"></script>
        <script type="text/javascript" src="{{ asset('bundles/galopadmin/dist/tui-image-editor.js') }}"></script>
        <script type="text/javascript" src="{{ asset('bundles/galopadmin/js/theme/white-theme.js') }}"></script>
        <script type="text/javascript" src="{{ asset('bundles/galopadmin/js/theme/black-theme.js') }}"></script>
        <script>

         // Image editor
	        var imageEditor = new tui.ImageEditor('#tui-image-editor-container', {
	            includeUI: {
	                 loadImage: {
	                     path: "{{ asset('resetImage.png') }}",
	                     name: 'SampleImage'
	                 },
	                 theme: blackTheme, // or whiteTheme
	                 initMenu: 'filter',
	                 menuBarPosition: 'bottom'
	             },
	             cssMaxWidth: 700,
	             cssMaxHeight: 500
	         });

	        window.onresize = function() {
	             imageEditor.ui.resizeEditor();
	        }
    	</script>
        {% endblock %}
{% endblock %}